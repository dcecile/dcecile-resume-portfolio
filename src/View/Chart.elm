module View.Chart
    exposing
        ( viewChart
        )

import Css exposing (Style, px)
import CssShorthand exposing (animationCycle)
import Msg exposing (Msg)
import Svg.Styled exposing (Svg, circle, g, path, styled)
import Svg.Styled.Attributes exposing (cx, cy, d, r)
import SvgShorthand exposing (fill, rotate, strokeWidth, transform)
import View.Colors exposing (paleGreen)


chartAnimation : String -> Style
chartAnimation =
    animationCycle 4000


chartCenterPoint : ( Float, Float )
chartCenterPoint =
    ( 50, 150 )


viewChart : Svg Msg
viewChart =
    let
        style =
            [ chartAnimation "chartCycle"
            ]
    in
    styled g
        style
        []
        [ viewTable
        , viewPie
        , viewLine
        , viewDiagram
        ]


viewTable : Svg Msg
viewTable =
    let
        pathData =
            "m 27.339145,53.4235 a 1.0891428,1.0891428 0 0 1 -1.089143,1.089143 1.0891428,1.0891428 0 0 1 -1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,1.089143 z m 35.250142,-5e-6 h 8.392857 m -8.392857,-8.839286 h 8.392857 m -8.392857,0 h 8.392857 m -8.392857,-8.839286 h 8.392857 M 67.874856,25.571428 a 1.0891428,1.0891428 0 0 1 -1.089143,1.089143 1.0891428,1.0891428 0 0 1 -1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,1.089143 z M 49.553574,53.423495 h 8.392857 m -8.392857,-8.839286 h 8.392857 m -8.392857,0 h 8.392857 m -8.392857,-8.839286 h 8.392857 M 54.839147,25.571428 a 1.0891428,1.0891428 0 0 1 -1.089143,1.089143 1.0891428,1.0891428 0 0 1 -1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,1.089143 z m -18.32129,27.852067 h 8.392857 m -8.392857,-8.839286 h 8.392857 m -8.392857,0 h 8.392857 m -8.392857,-8.839286 h 8.392857 M 41.80343,25.571428 a 1.0891428,1.0891428 0 0 1 -1.089143,1.089143 1.0891428,1.0891428 0 0 1 -1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,1.089143 z M 27.339145,44.584213 a 1.0891428,1.0891428 0 0 1 -1.089143,1.089143 1.0891428,1.0891428 0 0 1 -1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,1.089143 z m 0,-8.839287 a 1.0891428,1.0891428 0 0 1 -1.089143,1.089143 1.0891428,1.0891428 0 0 1 -1.089143,-1.089143 1.0891428,1.0891428 0 0 1 1.089143,-1.089142 1.0891428,1.0891428 0 0 1 1.089143,1.089142 z M 21.428571,29.821429 H 77.142857 M 31.964287,58.214288 V 20.535715"
    in
    viewItem
        []
        pathData
        0


viewPie : Svg Msg
viewPie =
    let
        style =
            [ fill paleGreen
            , strokeWidth <| px 0
            ]

        pathData =
            "m 18.236507,28.515299 h 10.589588 c 0.643036,0 1.160715,0.517678 1.160715,1.160714 v 4.307699 c 0,0.643036 -0.517679,1.160714 -1.160715,1.160714 H 18.236507 c -0.643036,0 -1.160715,-0.517678 -1.160715,-1.160714 v -4.307699 c 0,-0.643036 0.517679,-1.160714 1.160715,-1.160714 z M 70.479803,40.76276 h 4.592731 c 0.791429,0 1.428572,0.637143 1.428572,1.428572 v 4.087653 c 0,0.791428 -0.637143,1.428571 -1.428572,1.428571 h -4.592731 c -0.791429,0 -1.428572,-0.637143 -1.428572,-1.428571 v -4.087653 c 0,-0.791429 0.637143,-1.428572 1.428572,-1.428572 z M 68.155289,19.356945 h 6.465107 c 0.6925,0 1.25,0.5575 1.25,1.25 v 1.919416 c 0,0.6925 -0.5575,1.25 -1.25,1.25 h -6.465107 c -0.6925,0 -1.25,-0.5575 -1.25,-1.25 v -1.919416 c 0,-0.6925 0.5575,-1.25 1.25,-1.25 z m -8.017342,-0.552402 a 17.946428,17.946428 0 0 1 7.652122,8.285896 l -16.342458,7.416089 z m 4.696019,28.267868 A 17.946428,17.946428 0 0 1 49.922918,55.126165 17.946428,17.946428 0 0 1 34.956008,47.176704 L 49.860273,37.179846 Z M 67.182992,29.08501 A 17.946428,17.946428 0 0 1 65.851044,45.812459 L 50.702683,36.189495 Z M 33.645037,45.852716 a 17.946428,17.946428 0 0 1 2.074672,-21.631617 17.946428,17.946428 0 0 1 21.400679,-3.773866 l -8.219824,15.95333 z m -3.276186,6.508215 h 7.466284 c 0.939822,0 1.696429,0.756608 1.696429,1.696429 v 3.173135 c 0,0.939822 -0.756607,1.696429 -1.696429,1.696429 h -7.466284 c -0.939821,0 -1.696429,-0.756607 -1.696429,-1.696429 V 54.05736 c 0,-0.939821 0.756608,-1.696429 1.696429,-1.696429 z"
    in
    viewItem
        style
        pathData
        90


viewLine : Svg Msg
viewLine =
    let
        pathData =
            "m 25.941228,44.490073 h -3.661803 m 3.661803,-5.450615 h -3.661803 m 3.661803,-5.450615 h -3.661803 m 3.661803,-5.450614 h -3.661803 m 3.661803,21.802459 h -3.661803 m 30.836424,5.556581 v 3.661803 M 31.34145,55.497269 v 3.661803 m 38.105205,-3.661803 v 3.661803 m -5.443603,-3.661803 v 3.661803 m -5.443604,-3.661803 v 3.661803 M 47.672249,55.497269 v 3.661803 m -5.4436,-3.661803 v 3.661803 m -5.4436,-3.661803 v 3.661803 m -6.84659,-20.770266 9.722719,10.4064 6.313453,-1.443729 3.156727,-9.036058 6.944798,9.290485 9.217642,-10.257737 6.81853,4.608548 m -43.31029,11.149714 4.293148,-7.730468 2.77792,4.608548 4.671955,-11.44704 1.767767,5.946514 3.409265,-3.121919 3.282996,3.71657 2.65165,5.500526 3.156727,-12.933668 2.525381,1.635292 6.439723,-10.703725 2.904188,5.203199 5.303301,-6.689828 M 25.89785,22.035966 v 33.461303 h 49.497474"
    in
    viewItem
        []
        pathData
        180


viewDiagram : Svg Msg
viewDiagram =
    let
        pathData =
            "m 70.322896,27.382593 h 7.954951 M 25.970503,47.76925 h -5.018811 m -8.003519,1.205353 h 5.779238 m -8.256055,-3.661802 h 10.73287 v 7.323605 H 10.471356 Z M 32.06337,53.015216 H 26.002454 V 41.019655 m 30.304578,7.702414 h -6.313454 m 20.455588,4.066467 h 4.545687 V 31.196525 m -15.783634,7.297748 v 3.535534 M 42.669971,31.802013 h 4.671956 m 22.980969,-4.41942 h 7.954951 m -27.084715,6.881665 h 7.576144 m -7.576144,-3.914341 h 5.934646 m 2.714786,25.885156 h 5.42957 m -5.42957,-3.619712 h 4.545687 m -4.545687,-3.619713 h 7.197337 m -7.197337,-3.619713 h 5.934647 M 35.977712,52.69954 h 6.313454 M 35.977712,49.164006 H 46.205506 M 26.823203,35.590081 H 38.06115 M 26.823203,30.602456 h 9.722718 m -9.722718,-4.987625 h 12.12183 m 27.968595,-1.89404 h 14.77348 v 7.323604 H 66.913628 Z M 56.4333,42.029804 H 70.449165 V 59.581203 H 56.4333 Z M 32.18964,45.565338 H 49.993578 V 56.298207 H 32.18964 Z M 47.720734,26.751249 H 62.241676 V 37.862926 H 47.720734 Z M 22.971996,20.564066 H 42.79624 v 20.07678 H 22.971996 Z"
    in
    viewItem
        []
        pathData
        270


viewItem : List Style -> String -> Float -> Svg Msg
viewItem customStyle pathData degrees =
    styled path
        customStyle
        [ transform
            [ rotate degrees chartCenterPoint
            ]
        , d pathData
        ]
        []
